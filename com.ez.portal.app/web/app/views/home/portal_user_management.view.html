<div class="portal-user-management-wrapper" ng-init="init()">
	<form class="form-horizontal" ng-if="isUserFormVisible">
		<div class="row">
			<div class="col-md-6">
		   		<div class="form-group">
		   			<label for="emailId" 
		   				class="col-md-6 control-label">
		   				Email
	   				</label>
		   			<div class="col-md-6">
		   				<input type="text" 
		   					class="form-control" 
		   					id="emailId" 
		   					ng-model="user.emailId" 
		   					placeholder="Email" />
		   			</div>
		   		</div>
		   		<div class="form-group">
		   			<label for="userType" 
		   				class="col-md-6 control-label">
		   				User Type
	   				</label>
		   			<div class="col-md-6">
		   				<isteven-multi-select id="userType" 
                        	class="full-width" 
							input-model="userTypes" 
							selection-mode="single" 
							helper-elements="filter" 
							translation="userTypeLocalLang" 
						    output-model="user.userType"
						    button-label="typeName"
						    item-label="typeName"
						    tick-property="selected">
						</isteven-multi-select>
		   			</div>
		   		</div>
			</div>
			<div class="col-md-6">
		   		<div class="form-group">
		   			<label for="username" 
		   				class="col-md-3 control-label">
		   				User Name
	   				</label>
		   			<div class="col-md-6">
		   				<input type="text" 
		   					class="form-control" 
		   					id="username" 
		   					ng-model="user.username"
		   					placeholder="User Name" />
		   			</div>
		   		</div>
		   		<div class="form-group">
		   			<label for="username" 
		   				class="col-md-3 control-label">
		   				Password
	   				</label>
		   			<div class="col-md-6">
		   				<input type="text" 
		   					class="form-control" 
		   					id="password" 
		   					ng-model="password"
		   					placeholder="Password" />
		   			</div>
		   		</div>
			</div>
		</div>
		<div class="form-group" ng-repeat="userInfo in userInfos track by $index">
   			<div class="col-md-3 col-md-offset-3">
<!--    				<portal-adv-search></portal-adv-search> -->
   				<input type="text" 
   					ng-init="userInfos[$index].infoKey = {}"
   					class="form-control" 
   					id="userInfo" 
   					ng-model="userInfos[$index].infoKey.infoKeyName"
   					placeholder="User Info Key" />
   			</div>
   			<div class="col-md-3">
   				<input type="text" 
   					class="form-control" 
   					id="userInfo" 
   					ng-model="userInfos[$index].userInfoValue"
   					placeholder="User Info Value" />
   			</div>
   			<div class="col-md-1" ng-if="$index != userInfos.length - 1">
   				<a class="btn btn-danger" ng-click="removeUserInfo($event, user)">
        			<i class="glyphicon glyphicon-remove"></i>
       			</a>
   			</div>
   			<div class="col-md-1" ng-if="$index == userInfos.length - 1">
   				<a class="btn btn-success" ng-click="addUserInfo($event, user)">
        			<i class="glyphicon glyphicon-plus"></i>
       			</a>
   			</div>
   		</div>
		<div class="form-group">
	      	<div class="col-md-6 col-lg-offset-6">
	        	<div class="row">
	        		<div class="col-md-9">
	        			<div class="pull-right">
			        		<button type="reset" 
			        			class="btn btn-default">
			        			Reset
		        			</button>
			        		<button ng-click="saveUser($event, user, password, userInfos)" 
			        			type="submit" 
			        			class="btn btn-primary">
			        			Save
		        			</button>
			        	</div>
	        		</div>
	        	</div>
	      	</div>
	    </div>
	</form>
	<div class="portal-user-management-details" ng-if="!isUserFormVisible">
		<div class="pull-right">
			<div class="checkbox portal-user-filter" 
				ng-repeat="entryStatus in entryStatusCollection">
	          	<label>
	            	<input type="checkbox" 
	            		name="{{entryStatus.entryStatusName}}" 
	            		id="{{entryStatus.entryStatusName}}" 
	            		ng-model="entryStatus.checked" 
	            		ng-change="entryStatusHandler()"> 
	            		{{entryStatus.entryStatusName}}
	          	</label>
	        </div>
			<a ng-click="showUserForm()" 
				class="btn btn-sm btn-default">
				Add User
			</a>
			<a ng-click="reloadUsers()" 
				class="btn btn-sm btn-default">
				<i class="glyphicon glyphicon-refresh"></i>
			</a>
		</div>
		<div class="clearFix"></div>
		<div class="fixed-table-container hidden-head">
	 		<div class="header-background"></div>
	   		<div class="fixed-table-container-inner">
	     		<table cellspacing="0">
	     			<thead>
	         			<tr>
			           		<th class="first">
			             		<div class="th-inner">User Name</div>
			           		</th>
			           		<th>
			             		<div class="th-inner">Email Id</div>
			           		</th>
			           		<th>
			             		<div class="th-inner">User Type</div>
			           		</th>
			           		<th>
								<div class="th-inner">Status</div>
							</th>
			           		<th>
			             		<div class="th-inner">Actions</div>
			           		</th>
						</tr>
						<tr class="hidden-header">
							<th class="first">
								<div class="th-inner">User Name</div>
							</th>
							<th>
								<div class="th-inner">Email Id</div>
							</th>
							<th>
								<div class="th-inner">User Type</div>
							</th>
							<th>
								<div class="th-inner">Status</div>
							</th>
							<th>
								<div class="th-inner">Actions</div>
							</th>
						</tr>
					</thead>
	      			<tbody>
	      				<tr ng-repeat="user in users track by user.userId">
			           		<td>{{user.username}}</td>
			           		<td><a href="javascript: void(0)">{{user.emailId}}</a></td>
			           		<td>{{user.userType}}</td>
			           		<td>
			           			<span class="label" ng-class="{'label-default': user.entryStatus == ENTRY_STATUS.NEW, 'label-success': user.entryStatus == ENTRY_STATUS.ACTIVE, 'label-warning': user.entryStatus == ENTRY_STATUS.BLOCKED, 'label-info': user.entryStatus == ENTRY_STATUS.ARCHIVED, 'label-danger': user.entryStatus == ENTRY_STATUS.DELETED}">
				           			{{user.entryStatus}}
			           			</span>
			           		</td>
			           		<td style="width: 115px;">
								<a href="javascript: void(0)" 
									ng-click="toggleBlockUser($event, user)" 
									class="btn btn-sm btn-default">
									<i class="glyphicon" 
										ng-class="{'glyphicon-ban-circle': user.entryStatus == ENTRY_STATUS.ACTIVE, 'glyphicon-flash': user.entryStatus == ENTRY_STATUS.NEW || user.entryStatus == ENTRY_STATUS.BLOCKED, 'glyphicon-retweet': user.entryStatus == ENTRY_STATUS.DELETED}"></i>
								</a>
								<a href="#" class="btn btn-sm btn-default">
									<i class="glyphicon glyphicon-edit"></i>
								</a>
								<a href="javascript: void(0)" 
									ng-if="user.entryStatus != ENTRY_STATUS.DELETED"
									ng-click="removeUser($event, user)"
									class="btn btn-sm btn-default">
									<i class="glyphicon glyphicon-trash"></i>
								</a>
			           		</td>
	          			</tr>
	      			</tbody>
	     		</table>
	   		</div>
	 	</div>
	</div>
</div>